# Приклад завантаження файлів з FastAPI

Цей додаток FastAPI надає простий ендпоінт для завантаження файлів. Він використовує бібліотеку `fastapi` для створення веб-API та дозволяє користувачам завантажувати файли через ендпоінт `/file/`.

## Встановлення

### Крок 1: Клонування цього репозиторію

```bash
git clone https://github.com/AlexBabilya/file-server.git
cd file-server
```

Для забезпечення чистого та ізольованого середовища для вашого проекту FastAPI рекомендується використовувати віртуальне середовище. Ось кроки для створення нового віртуального середовища, його активації та встановлення пакетів з файлу `requirements.txt`:

### Крок 2: Створення віртуального середовища

```bash
# На Windows
python -m venv venv

# На macOS та Linux
python3 -m venv venv
```

Це створить новий каталог з назвою `venv`, що містить віртуальне середовище.

### Крок 3: Активація віртуального середовища

#### На Windows:

```bash
venv\Scripts\activate
```

#### На macOS та Linux:

```bash
source venv/bin/activate
```

Після активації ваш командний рядок або термінал повинен відображати назву віртуального середовища, вказуючи, що ви працюєте в межах віртуального середовища.

### Крок 4: Встановлення залежностей з `requirements.txt`

Встановіть залежності за допомогою `pip`:

```bash
pip install -r requirements.txt
```

Це встановить зазначені пакети разом із їхніми залежностями у віртуальне середовище.

### Крок 5: Вимкнення віртуального середовища

Коли ви закінчите роботу у віртуальному середовищі, ви можете його вимкнути:

```bash
deactivate
```

По завершенні цих кроків ви створите ізольоване середовище для свого проекту FastAPI, що забезпечить встановлення залежностей без втручання в глобальне середовище Python. Крім того, це полегшить управління та обмін проектом з іншими користувачами.

## Використання

### Крок 1: Запуск додатку FastAPI:

Після активації віртуального середовища та встановлення залежностей ви можете запустити сервер:

```bash
uvicorn main:app --reload
```

Прапорець `--reload` вмикає автоматичне перезавантаження коду під час розробки.

### Завантаження файлу

Надішліть POST-запит до ендпоінту `/file/` із прикріпленим файлом. Сервер збереже файл у вказаному `UPLOAD_DIRECTORY`.

Приклад за допомогою [curl](https://curl.se/):

```bash
curl -X POST "http://127.0.0.1:8000/file/" -H "accept: application/json" -H "Content-Type: multipart/form-data" -F "file=@/path/to/your/file.txt"
```

### Відповідь

Якщо завантаження файлу вдале, ви отримаєте JSON-відповідь:

```json
{
  "message": "File uploaded successfully"
}
```

Якщо виникла помилка під час завантаження файлу, буде повернено повідомлення про помилку із статус-кодом 500.

```json
{
  "message": "Error: <error_message>"
}
```

## Налаштування

Ви можете змінити змінну `UPLOAD_DIRECTORY` у файлі `main.py`, щоб змінити каталог, де будуть збережені завантажені файли.

```python
UPLOAD_DIRECTORY = "./"
```

Переконайтеся, що вказаний каталог існує, і додаток має необхідні права для запису в нього.